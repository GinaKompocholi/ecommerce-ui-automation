{"uid":"40ad9c5065b6d25a","name":"[BUG] User resets app state","fullName":"features/burger_menu.feature:[BUG] User resets app state","historyId":"468cc814dade9d0c89f705bf8a026dd2","time":{"start":1736784517287,"stop":1736784522960,"duration":5673},"status":"failed","statusMessage":"AssertionError: Product 'Sauce Labs Backpack' button [Add to Cart] is missing\nassert False\n +  where False = add_to_cart_button_is_visible(<JSHandle preview=JSHandle@<div class=\"inventory_item\" data-test=\"inventory-item\">…</div>>)\n +    where add_to_cart_button_is_visible = <ui_automation_suite.bdd_tests.page_objects.products_page.ProductPage object at 0x7f5b0d388d50>.add_to_cart_button_is_visible","statusTrace":"fixturefunc = <function products_are_displayed at 0x7f5b0ea51440>\nrequest = <FixtureRequest for <Function test_bug_user_resets_app_state>>\nkwargs = {'page': <Page url='https://www.saucedemo.com/inventory.html'>, 'product_page': <ui_automation_suite.bdd_tests.page_objects.products_page.ProductPage object at 0x7f5b0d388d50>}\n\n    def call_fixture_func(\n        fixturefunc: _FixtureFunc[FixtureValue], request: FixtureRequest, kwargs\n    ) -> FixtureValue:\n        if is_generator(fixturefunc):\n            fixturefunc = cast(\n                Callable[..., Generator[FixtureValue, None, None]], fixturefunc\n            )\n            generator = fixturefunc(**kwargs)\n            try:\n                fixture_result = next(generator)\n            except StopIteration:\n                raise ValueError(f\"{request.fixturename} did not yield a value\") from None\n            finalizer = functools.partial(_teardown_yield_fixture, fixturefunc, generator)\n            request.addfinalizer(finalizer)\n        else:\n            fixturefunc = cast(Callable[..., FixtureValue], fixturefunc)\n>           fixture_result = fixturefunc(**kwargs)\n\n../../../.cache/pypoetry/virtualenvs/ui-automation-suite-sxdfqp51-py3.11/lib/python3.11/site-packages/_pytest/fixtures.py:898: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\npage = <Page url='https://www.saucedemo.com/inventory.html'>\nproduct_page = <ui_automation_suite.bdd_tests.page_objects.products_page.ProductPage object at 0x7f5b0d388d50>\n\n    @then(parsers.cfparse(\"all products are fully visible with all attributes\"))\n    def products_are_displayed(page, product_page: ProductPage):\n        products_displayed = product_page.get_all_products()\n        assert len(products_displayed) > 0, NO_PRODUCTS\n        logging.info(\n            f\"Validation started: {len(products_displayed)} product(s) found on the page.\"\n        )\n    \n        for product in products_displayed:\n            assert product_page.name_is_visible(product), \"Product name is missing\"\n            product_name = product_page.get_product_name(product)\n            assert product_page.image_is_visible(\n                product\n            ), f\"Product {product_name} image is missing\"\n            assert product_page.description_is_visible(\n                product\n            ), f\"Product {product_name}  description is missing\"\n            assert product_page.price_is_visible(\n                product\n            ), f\"Product {product_name}  price is missing\"\n>           assert product_page.add_to_cart_button_is_visible(\n                product\n            ), f\"Product '{product_name}' button [Add to Cart] is missing\"\nE           AssertionError: Product 'Sauce Labs Backpack' button [Add to Cart] is missing\nE           assert False\nE            +  where False = add_to_cart_button_is_visible(<JSHandle preview=JSHandle@<div class=\"inventory_item\" data-test=\"inventory-item\">…</div>>)\nE            +    where add_to_cart_button_is_visible = <ui_automation_suite.bdd_tests.page_objects.products_page.ProductPage object at 0x7f5b0d388d50>.add_to_cart_button_is_visible\n\nui_automation_suite/bdd_tests/step_defs/common_steps.py:104: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"failed","statusMessage":"AssertionError: Product 'Sauce Labs Backpack' button [Add to Cart] is missing\nassert False\n +  where False = add_to_cart_button_is_visible(<JSHandle preview=JSHandle@<div class=\"inventory_item\" data-test=\"inventory-item\">…</div>>)\n +    where add_to_cart_button_is_visible = <ui_automation_suite.bdd_tests.page_objects.products_page.ProductPage object at 0x7f5b0d388d50>.add_to_cart_button_is_visible","statusTrace":"fixturefunc = <function products_are_displayed at 0x7f5b0ea51440>\nrequest = <FixtureRequest for <Function test_bug_user_resets_app_state>>\nkwargs = {'page': <Page url='https://www.saucedemo.com/inventory.html'>, 'product_page': <ui_automation_suite.bdd_tests.page_objects.products_page.ProductPage object at 0x7f5b0d388d50>}\n\n    def call_fixture_func(\n        fixturefunc: _FixtureFunc[FixtureValue], request: FixtureRequest, kwargs\n    ) -> FixtureValue:\n        if is_generator(fixturefunc):\n            fixturefunc = cast(\n                Callable[..., Generator[FixtureValue, None, None]], fixturefunc\n            )\n            generator = fixturefunc(**kwargs)\n            try:\n                fixture_result = next(generator)\n            except StopIteration:\n                raise ValueError(f\"{request.fixturename} did not yield a value\") from None\n            finalizer = functools.partial(_teardown_yield_fixture, fixturefunc, generator)\n            request.addfinalizer(finalizer)\n        else:\n            fixturefunc = cast(Callable[..., FixtureValue], fixturefunc)\n>           fixture_result = fixturefunc(**kwargs)\n\n../../../.cache/pypoetry/virtualenvs/ui-automation-suite-sxdfqp51-py3.11/lib/python3.11/site-packages/_pytest/fixtures.py:898: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\npage = <Page url='https://www.saucedemo.com/inventory.html'>\nproduct_page = <ui_automation_suite.bdd_tests.page_objects.products_page.ProductPage object at 0x7f5b0d388d50>\n\n    @then(parsers.cfparse(\"all products are fully visible with all attributes\"))\n    def products_are_displayed(page, product_page: ProductPage):\n        products_displayed = product_page.get_all_products()\n        assert len(products_displayed) > 0, NO_PRODUCTS\n        logging.info(\n            f\"Validation started: {len(products_displayed)} product(s) found on the page.\"\n        )\n    \n        for product in products_displayed:\n            assert product_page.name_is_visible(product), \"Product name is missing\"\n            product_name = product_page.get_product_name(product)\n            assert product_page.image_is_visible(\n                product\n            ), f\"Product {product_name} image is missing\"\n            assert product_page.description_is_visible(\n                product\n            ), f\"Product {product_name}  description is missing\"\n            assert product_page.price_is_visible(\n                product\n            ), f\"Product {product_name}  price is missing\"\n>           assert product_page.add_to_cart_button_is_visible(\n                product\n            ), f\"Product '{product_name}' button [Add to Cart] is missing\"\nE           AssertionError: Product 'Sauce Labs Backpack' button [Add to Cart] is missing\nE           assert False\nE            +  where False = add_to_cart_button_is_visible(<JSHandle preview=JSHandle@<div class=\"inventory_item\" data-test=\"inventory-item\">…</div>>)\nE            +    where add_to_cart_button_is_visible = <ui_automation_suite.bdd_tests.page_objects.products_page.ProductPage object at 0x7f5b0d388d50>.add_to_cart_button_is_visible\n\nui_automation_suite/bdd_tests/step_defs/common_steps.py:104: AssertionError","steps":[{"name":"Given the login page is displayed","time":{"start":1736784517287,"stop":1736784518618,"duration":1331},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"When user tries to login with standard_user","time":{"start":1736784518618,"stop":1736784520708,"duration":2090},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Then user is redirected to the products page","time":{"start":1736784520708,"stop":1736784520708,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Then burger menu button is visible and menu is closed","time":{"start":1736784520708,"stop":1736784520721,"duration":13},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"When user adds product Backpack to the cart","time":{"start":1736784520721,"stop":1736784521471,"duration":750},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Then the cart icon displays 1 product(s)","time":{"start":1736784521471,"stop":1736784521483,"duration":12},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"When user opens the burger menu","time":{"start":1736784521483,"stop":1736784522181,"duration":698},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"And user selects from menu Reset App State","time":{"start":1736784522181,"stop":1736784522873,"duration":692},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Then the cart icon displays 0 product(s)","time":{"start":1736784522873,"stop":1736784522879,"duration":6},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"And all products are fully visible with all attributes","time":{"start":1736784522879,"stop":1736784522960,"duration":81},"status":"failed","statusMessage":"Product 'Sauce Labs Backpack' button [Add to Cart] is missing\nassert False\n +  where False = add_to_cart_button_is_visible(<JSHandle preview=JSHandle@<div class=\"inventory_item\" data-test=\"inventory-item\">…</div>>)\n +    where add_to_cart_button_is_visible = <ui_automation_suite.bdd_tests.page_objects.products_page.ProductPage object at 0x7f5b0d388d50>.add_to_cart_button_is_visible","statusTrace":"AssertionError: Product 'Sauce Labs Backpack' button [Add to Cart] is missing\nassert False\n +  where False = add_to_cart_button_is_visible(<JSHandle preview=JSHandle@<div class=\"inventory_item\" data-test=\"inventory-item\">…</div>>)\n +    where add_to_cart_button_is_visible = <ui_automation_suite.bdd_tests.page_objects.products_page.ProductPage object at 0x7f5b0d388d50>.add_to_cart_button_is_visible\n","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":true,"hasContent":true}],"attachments":[{"uid":"dafcc4a8ee72d2f8","name":"Step failure!","source":"dafcc4a8ee72d2f8.txt","type":"text/plain","size":111},{"uid":"c2ae3c1aece3950b","name":"trace_test_bug_user_resets_app_state.zip","source":"c2ae3c1aece3950b.zip","type":"application/zip","size":1004942},{"uid":"af9f6255fc90794","name":"log","source":"af9f6255fc90794.txt","type":"text/plain","size":802}],"parameters":[],"stepsCount":10,"attachmentsCount":3,"shouldDisplayMessage":true,"hasContent":true},"afterStages":[],"labels":[{"name":"host","value":"fv-az1675-69"},{"name":"thread","value":"6424-MainThread"},{"name":"framework","value":"pytest-bdd"},{"name":"language","value":"cpython3"},{"name":"feature","value":"Menu navigation"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"tags":[]},"source":"40ad9c5065b6d25a.json","parameterValues":[]}