{"uid":"d79e72a292a386d8","name":"[BUG] User tries to login but it takes too long","fullName":"features/login.feature:[BUG] User tries to login but it takes too long","historyId":"28c0df439dd7ed60e083640c5fbc8a21","time":{"start":1736784424209,"stop":1736784432637,"duration":8428},"status":"failed","statusMessage":"AssertionError: Redirection to the expected URL (inventory.html) did not occur within 5 seconds.","statusTrace":"fixturefunc = <function login_with_specific_role at 0x7f5b0ea51080>\nrequest = <FixtureRequest for <Function test_bug_user_tries_to_login_but_it_takes_too_long>>\nkwargs = {'app_env_settings': <ui_automation_suite.settings.config.AppEnvSettings object at 0x7f5b0ea4e350>, 'login_page': <ui_...5b0d339610>, 'page': <Page url='https://www.saucedemo.com/inventory.html'>, 'username_type': 'performance_glitch_user'}\n\n    def call_fixture_func(\n        fixturefunc: _FixtureFunc[FixtureValue], request: FixtureRequest, kwargs\n    ) -> FixtureValue:\n        if is_generator(fixturefunc):\n            fixturefunc = cast(\n                Callable[..., Generator[FixtureValue, None, None]], fixturefunc\n            )\n            generator = fixturefunc(**kwargs)\n            try:\n                fixture_result = next(generator)\n            except StopIteration:\n                raise ValueError(f\"{request.fixturename} did not yield a value\") from None\n            finalizer = functools.partial(_teardown_yield_fixture, fixturefunc, generator)\n            request.addfinalizer(finalizer)\n        else:\n            fixturefunc = cast(Callable[..., FixtureValue], fixturefunc)\n>           fixture_result = fixturefunc(**kwargs)\n\n../../../.cache/pypoetry/virtualenvs/ui-automation-suite-sxdfqp51-py3.11/lib/python3.11/site-packages/_pytest/fixtures.py:898: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nui_automation_suite/bdd_tests/step_defs/common_steps.py:73: in login_with_specific_role\n    wait_for_redirection(page, end_time, ALL_PRODUCTS_PAGE, timeout)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\npage = <Page url='https://www.saucedemo.com/inventory.html'>\nend_time = 1736784431.8950894, expected_url = 'inventory.html', timeout = 5\npoll_interval = 0.5\n\n    def wait_for_redirection(page, end_time, expected_url, timeout=5, poll_interval=0.5):\n        \"\"\"\n        Helper function to wait for redirection to an expected URL.\n    \n        :param page: Playwright page object.\n        :param end_time: Time when the waiting should stop.\n        :param expected_url: The URL to wait for redirection to.\n        :param timeout: Maximum time to wait for the redirection, in seconds.\n        :param poll_interval: Time interval for polling the URL, in seconds.\n        :raises AssertionError: If the redirection does not occur within the timeout.\n        \"\"\"\n    \n        while time() < end_time:\n            current_url = page.url\n            if expected_url in current_url:\n                logging.info(f\"Redirection successful to URL: {current_url}\")\n                return\n            sleep(poll_interval)\n    \n>       raise AssertionError(\n            f\"Redirection to the expected URL ({expected_url}) \"\n            f\"did not occur within {timeout} seconds.\"\n        )\nE       AssertionError: Redirection to the expected URL (inventory.html) did not occur within 5 seconds.\n\nui_automation_suite/utils/page_helpers.py:62: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"failed","statusMessage":"AssertionError: Redirection to the expected URL (inventory.html) did not occur within 5 seconds.","statusTrace":"fixturefunc = <function login_with_specific_role at 0x7f5b0ea51080>\nrequest = <FixtureRequest for <Function test_bug_user_tries_to_login_but_it_takes_too_long>>\nkwargs = {'app_env_settings': <ui_automation_suite.settings.config.AppEnvSettings object at 0x7f5b0ea4e350>, 'login_page': <ui_...5b0d339610>, 'page': <Page url='https://www.saucedemo.com/inventory.html'>, 'username_type': 'performance_glitch_user'}\n\n    def call_fixture_func(\n        fixturefunc: _FixtureFunc[FixtureValue], request: FixtureRequest, kwargs\n    ) -> FixtureValue:\n        if is_generator(fixturefunc):\n            fixturefunc = cast(\n                Callable[..., Generator[FixtureValue, None, None]], fixturefunc\n            )\n            generator = fixturefunc(**kwargs)\n            try:\n                fixture_result = next(generator)\n            except StopIteration:\n                raise ValueError(f\"{request.fixturename} did not yield a value\") from None\n            finalizer = functools.partial(_teardown_yield_fixture, fixturefunc, generator)\n            request.addfinalizer(finalizer)\n        else:\n            fixturefunc = cast(Callable[..., FixtureValue], fixturefunc)\n>           fixture_result = fixturefunc(**kwargs)\n\n../../../.cache/pypoetry/virtualenvs/ui-automation-suite-sxdfqp51-py3.11/lib/python3.11/site-packages/_pytest/fixtures.py:898: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nui_automation_suite/bdd_tests/step_defs/common_steps.py:73: in login_with_specific_role\n    wait_for_redirection(page, end_time, ALL_PRODUCTS_PAGE, timeout)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\npage = <Page url='https://www.saucedemo.com/inventory.html'>\nend_time = 1736784431.8950894, expected_url = 'inventory.html', timeout = 5\npoll_interval = 0.5\n\n    def wait_for_redirection(page, end_time, expected_url, timeout=5, poll_interval=0.5):\n        \"\"\"\n        Helper function to wait for redirection to an expected URL.\n    \n        :param page: Playwright page object.\n        :param end_time: Time when the waiting should stop.\n        :param expected_url: The URL to wait for redirection to.\n        :param timeout: Maximum time to wait for the redirection, in seconds.\n        :param poll_interval: Time interval for polling the URL, in seconds.\n        :raises AssertionError: If the redirection does not occur within the timeout.\n        \"\"\"\n    \n        while time() < end_time:\n            current_url = page.url\n            if expected_url in current_url:\n                logging.info(f\"Redirection successful to URL: {current_url}\")\n                return\n            sleep(poll_interval)\n    \n>       raise AssertionError(\n            f\"Redirection to the expected URL ({expected_url}) \"\n            f\"did not occur within {timeout} seconds.\"\n        )\nE       AssertionError: Redirection to the expected URL (inventory.html) did not occur within 5 seconds.\n\nui_automation_suite/utils/page_helpers.py:62: AssertionError","steps":[{"name":"Given the login page is displayed","time":{"start":1736784424209,"stop":1736784425535,"duration":1326},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"When user tries to login with performance_glitch_user","time":{"start":1736784425535,"stop":1736784432637,"duration":7102},"status":"failed","statusMessage":"Redirection to the expected URL (inventory.html) did not occur within 5 seconds.","statusTrace":"AssertionError: Redirection to the expected URL (inventory.html) did not occur within 5 seconds.\n","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":true,"hasContent":true}],"attachments":[{"uid":"217196829b707c73","name":"Step failure!","source":"217196829b707c73.txt","type":"text/plain","size":111},{"uid":"a74591e6710ccca6","name":"trace_test_bug_user_tries_to_login_but_it_takes_too_long.zip","source":"a74591e6710ccca6.zip","type":"application/zip","size":368890},{"uid":"ccbe743c4f18f047","name":"log","source":"ccbe743c4f18f047.txt","type":"text/plain","size":56}],"parameters":[],"stepsCount":2,"attachmentsCount":3,"shouldDisplayMessage":true,"hasContent":true},"afterStages":[],"labels":[{"name":"host","value":"fv-az1675-69"},{"name":"thread","value":"6424-MainThread"},{"name":"framework","value":"pytest-bdd"},{"name":"language","value":"cpython3"},{"name":"feature","value":"Authentication"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"tags":[]},"source":"d79e72a292a386d8.json","parameterValues":[]}